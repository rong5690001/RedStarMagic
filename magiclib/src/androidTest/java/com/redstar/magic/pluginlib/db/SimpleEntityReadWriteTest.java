package com.redstar.magic.pluginlib.db;import android.content.Context;import com.redstar.magic.pluginlib.pm.version.Plugin;import com.redstar.magic.pluginlib.pm.version.PluginDao;import com.redstar.magic.pluginlib.pm.version.PluginDataBase;import org.junit.After;import org.junit.Before;import org.junit.Test;import org.junit.runner.RunWith;import java.util.List;import androidx.room.Room;import androidx.test.InstrumentationRegistry;import androidx.test.ext.junit.runners.AndroidJUnit4;import static org.hamcrest.Matchers.equalTo;import static org.junit.Assert.assertThat;/** * Created by chen.huarong on 2019-09-27. */@RunWith(AndroidJUnit4.class)public class SimpleEntityReadWriteTest {    private PluginDao mPluginDao;    private PluginDataBase mDb;    @Before    public void createDb() {        Context context = InstrumentationRegistry.getTargetContext();        mDb = Room.inMemoryDatabaseBuilder(context, PluginDataBase.class).build();        mPluginDao = mDb.pluginDao();    }    @After    public void closeDb() {        mDb.close();    }    @Test    public void writeUserAndReadInList() {        Plugin plugin = new Plugin();        plugin.pluginName = "george";        mPluginDao.insertPlugins(plugin);        List<Plugin> byName = mPluginDao.findPluginsByName("george");        assertThat(byName.get(0).pluginName, equalTo(plugin.pluginName));    }}